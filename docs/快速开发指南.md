# ⚡ Sajuna Blog 快速开发指南

## 🚀 立即开始开发

### 1. 启动开发环境
```bash
# 一键启动
.\start.bat

# 或者手动启动
docker-compose -f docker-compose.dev.yml up -d
```

### 2. 验证环境
```bash
# 运行测试
.\scripts\test-dev.bat

# 访问应用
# 前端: http://localhost:3000
# API: http://localhost:8080
# 完整: http://localhost:80
```

## 🎯 第一个功能：用户注册

### 后端开发 (5分钟)
```go
// 1. 检查现有代码
// backend/internal/handler/user.go 已有 Register 函数

// 2. 测试API
curl -X POST http://localhost:8080/api/v1/users/register \
  -H "Content-Type: application/json" \
  -d '{"username":"test","email":"test@example.com","password":"123456"}'
```

### 前端开发 (10分钟)
```vue
<!-- frontend/src/views/Register.vue -->
<template>
  <div class="register-page">
    <h2>用户注册</h2>
    <form @submit.prevent="handleRegister">
      <input v-model="form.username" placeholder="用户名" required>
      <input v-model="form.email" type="email" placeholder="邮箱" required>
      <input v-model="form.password" type="password" placeholder="密码" required>
      <button type="submit" :disabled="loading">
        {{ loading ? '注册中...' : '注册' }}
      </button>
    </form>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()
const loading = ref(false)
const form = ref({
  username: '',
  email: '',
  password: ''
})

const handleRegister = async () => {
  loading.value = true
  try {
    const response = await fetch('http://localhost:8080/api/v1/users/register', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(form.value)
    })
    
    if (response.ok) {
      alert('注册成功！')
      router.push('/login')
    } else {
      const error = await response.json()
      alert(error.message || '注册失败')
    }
  } catch (error) {
    alert('网络错误')
  } finally {
    loading.value = false
  }
}
</script>
```

## 🔧 开发工具和技巧

### 1. 热重载开发
```bash
# 前端代码修改后自动刷新
# 后端代码修改后自动重启
# 无需手动重启容器
```

### 2. 调试技巧
```bash
# 查看后端日志
docker-compose -f docker-compose.dev.yml logs -f backend-dev

# 查看前端日志
docker-compose -f docker-compose.dev.yml logs -f frontend-dev

# 进入容器调试
docker exec -it sajuna-blog-backend-dev sh
docker exec -it sajuna-blog-frontend-dev sh
```

### 3. 数据库操作
```bash
# 连接数据库
.\scripts\db-connect.bat

# 查看表结构
DESCRIBE users;
DESCRIBE articles;

# 查看数据
SELECT * FROM users LIMIT 5;
SELECT * FROM articles LIMIT 5;
```

## 📝 代码规范

### 1. 提交信息格式
```bash
# 功能开发
git commit -m "feat: 添加用户注册功能"

# 修复问题
git commit -m "fix: 修复登录接口错误"

# 文档更新
git commit -m "docs: 更新API文档"
```

### 2. 分支管理
```bash
# 创建功能分支
git checkout -b feature/user-registration

# 开发完成后合并
git checkout main
git merge feature/user-registration
```

## 🚀 常用开发命令

### 容器管理
```bash
# 启动服务
docker-compose -f docker-compose.dev.yml up -d

# 停止服务
docker-compose -f docker-compose.dev.yml down

# 重启服务
docker-compose -f docker-compose.dev.yml restart

# 查看状态
docker-compose -f docker-compose.dev.yml ps
```

### 日志查看
```bash
# 查看所有日志
docker-compose -f docker-compose.dev.yml logs -f

# 查看特定服务日志
docker-compose -f docker-compose.dev.yml logs -f backend-dev
docker-compose -f docker-compose.dev.yml logs -f frontend-dev
```

### 数据库操作
```bash
# 连接数据库
.\scripts\db-connect.bat

# 重置数据库
docker-compose -f docker-compose.dev.yml down -v
docker-compose -f docker-compose.dev.yml up -d
```

## 🎯 开发优先级

### 第1天：用户认证
- [ ] 用户注册页面
- [ ] 用户登录页面
- [ ] JWT令牌管理
- [ ] 登录状态检查

### 第2天：文章管理
- [ ] 文章列表页面
- [ ] 文章详情页面
- [ ] 文章创建页面
- [ ] 文章编辑页面

### 第3天：分类标签
- [ ] 分类管理页面
- [ ] 标签管理页面
- [ ] 文章分类关联
- [ ] 文章标签关联

### 第4天：UI优化
- [ ] 响应式布局
- [ ] 组件样式优化
- [ ] 加载状态处理
- [ ] 错误提示优化

## 🔍 测试验证

### API测试
```bash
# 健康检查
curl http://localhost:8080/api/v1/health

# 用户注册
curl -X POST http://localhost:8080/api/v1/users/register \
  -H "Content-Type: application/json" \
  -d '{"username":"test","email":"test@example.com","password":"123456"}'

# 用户登录
curl -X POST http://localhost:8080/api/v1/users/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"123456"}'
```

### 前端测试
```bash
# 访问前端页面
# http://localhost:3000 - 首页
# http://localhost:3000/register - 注册页面
# http://localhost:3000/login - 登录页面
```

## 🚨 常见问题解决

### 1. 容器启动失败
```bash
# 查看错误日志
docker-compose -f docker-compose.dev.yml logs

# 清理重建
docker-compose -f docker-compose.dev.yml down -v
docker-compose -f docker-compose.dev.yml up -d --build
```

### 2. 端口冲突
```bash
# 检查端口占用
netstat -an | findstr :3000
netstat -an | findstr :8080

# 修改端口配置
# docker-compose.dev.yml
```

### 3. 数据库连接失败
```bash
# 检查数据库状态
docker exec sajuna-blog-mysql-dev mysql -u blog_user -pblog_password -e "SHOW DATABASES;"

# 重启数据库
docker-compose -f docker-compose.dev.yml restart mysql
```

## 📚 学习资源

### 技术文档
- [Vue 3 官方文档](https://vuejs.org/)
- [Go Gin 框架文档](https://gin-gonic.com/)
- [Docker 官方文档](https://docs.docker.com/)
- [MySQL 官方文档](https://dev.mysql.com/doc/)

### 开发工具
- [VS Code](https://code.visualstudio.com/)
- [Postman](https://www.postman.com/) - API测试
- [Docker Desktop](https://www.docker.com/products/docker-desktop/)

---

**🎉 现在就开始开发吧！记住：小步快跑，持续迭代！**
