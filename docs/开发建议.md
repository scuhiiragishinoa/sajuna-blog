# ğŸš€ Sajuna Blog å¼€å‘å»ºè®®

## ğŸ“‹ å¼€å‘æµç¨‹å»ºè®®

### 1. å¼€å‘å‰å‡†å¤‡
```bash
# 1. å¯åŠ¨å¼€å‘ç¯å¢ƒ
.\start.bat

# 2. è¿è¡Œæµ‹è¯•ç¡®ä¿ç¯å¢ƒæ­£å¸¸
.\scripts\test-dev.bat

# 3. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose -f docker-compose.dev.yml ps
```

### 2. æ—¥å¸¸å¼€å‘æµç¨‹
```bash
# å¼€å‘å‰
git pull origin main                    # æ‹‰å–æœ€æ–°ä»£ç 
.\start.bat                            # å¯åŠ¨å¼€å‘ç¯å¢ƒ

# å¼€å‘ä¸­
# ä¿®æ”¹ä»£ç  â†’ è‡ªåŠ¨çƒ­é‡è½½
# æµ‹è¯•åŠŸèƒ½ â†’ æµè§ˆå™¨è®¿é—® http://localhost:3000

# å¼€å‘å
git add .                              # æ·»åŠ ä¿®æ”¹
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"        # æäº¤ä»£ç 
git push origin feature-branch         # æ¨é€åˆ†æ”¯
```

## ğŸ¯ åŠŸèƒ½å¼€å‘ä¼˜å…ˆçº§

### é˜¶æ®µ1: æ ¸å¿ƒåŠŸèƒ½ (1-2å‘¨)
1. **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**
   - ç”¨æˆ·æ³¨å†Œ/ç™»å½•
   - JWTä»¤ç‰Œç®¡ç†
   - ç”¨æˆ·æƒé™æ§åˆ¶

2. **æ–‡ç« ç®¡ç†åŸºç¡€**
   - æ–‡ç« CRUDæ“ä½œ
   - æ–‡ç« åˆ†ç±»ç®¡ç†
   - æ–‡ç« æ ‡ç­¾ç®¡ç†

3. **åŸºç¡€UIç•Œé¢**
   - å“åº”å¼å¸ƒå±€
   - æ–‡ç« åˆ—è¡¨é¡µé¢
   - æ–‡ç« è¯¦æƒ…é¡µé¢

### é˜¶æ®µ2: å¢å¼ºåŠŸèƒ½ (2-3å‘¨)
1. **å†…å®¹ç®¡ç†**
   - Markdownç¼–è¾‘å™¨
   - å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
   - æ–‡ç« æœç´¢åŠŸèƒ½

2. **ç”¨æˆ·äº¤äº’**
   - è¯„è®ºç³»ç»Ÿ
   - ç‚¹èµåŠŸèƒ½
   - ç”¨æˆ·ä¸ªäººä¸­å¿ƒ

3. **ç®¡ç†åå°**
   - ç®¡ç†å‘˜ç•Œé¢
   - æ•°æ®ç»Ÿè®¡
   - ç³»ç»Ÿè®¾ç½®

### é˜¶æ®µ3: é«˜çº§åŠŸèƒ½ (3-4å‘¨)
1. **æ€§èƒ½ä¼˜åŒ–**
   - ç¼“å­˜ç­–ç•¥
   - å›¾ç‰‡å‹ç¼©
   - æ‡’åŠ è½½

2. **SEOä¼˜åŒ–**
   - å…ƒæ•°æ®ç®¡ç†
   - ç«™ç‚¹åœ°å›¾
   - ç»“æ„åŒ–æ•°æ®

3. **éƒ¨ç½²ä¼˜åŒ–**
   - ç”Ÿäº§ç¯å¢ƒé…ç½®
   - ç›‘æ§å‘Šè­¦
   - å¤‡ä»½ç­–ç•¥

## ğŸ› ï¸ æŠ€æœ¯å¼€å‘å»ºè®®

### å‰ç«¯å¼€å‘
```typescript
// 1. ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼
// tsconfig.json
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true
  }
}

// 2. ç»„ä»¶åŒ–å¼€å‘
// components/ArticleCard.vue
<template>
  <div class="article-card">
    <h3>{{ article.title }}</h3>
    <p>{{ article.excerpt }}</p>
  </div>
</template>

// 3. çŠ¶æ€ç®¡ç†
// stores/article.ts
export const useArticleStore = defineStore('article', () => {
  const articles = ref<Article[]>([])
  const loading = ref(false)
  
  const fetchArticles = async () => {
    loading.value = true
    try {
      const response = await api.get('/articles')
      articles.value = response.data
    } finally {
      loading.value = false
    }
  }
  
  return { articles, loading, fetchArticles }
})
```

### åç«¯å¼€å‘
```go
// 1. é”™è¯¯å¤„ç†
func CreateArticle(c *gin.Context) {
    var req CreateArticleRequest
    if err := c.ShouldBindJSON(&req); err != nil {
        c.JSON(400, gin.H{"error": "è¯·æ±‚å‚æ•°é”™è¯¯"})
        return
    }
    
    // ä¸šåŠ¡é€»è¾‘
    article, err := articleService.Create(req)
    if err != nil {
        log.Printf("åˆ›å»ºæ–‡ç« å¤±è´¥: %v", err)
        c.JSON(500, gin.H{"error": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"})
        return
    }
    
    c.JSON(201, gin.H{"data": article})
}

// 2. æ•°æ®éªŒè¯
type CreateArticleRequest struct {
    Title      string `json:"title" binding:"required,min=1,max=200"`
    Content    string `json:"content" binding:"required,min=1"`
    CategoryID uint64 `json:"category_id" binding:"required"`
    TagIDs     []uint64 `json:"tag_ids"`
}

// 3. æ—¥å¿—è®°å½•
log.Printf("ç”¨æˆ· %d åˆ›å»ºæ–‡ç« : %s", userID, req.Title)
```

## ğŸ”§ å¼€å‘å·¥å…·å»ºè®®

### 1. ä»£ç ç¼–è¾‘å™¨é…ç½®
```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.preferences.importModuleSpecifier": "relative",
  "go.formatTool": "goimports"
}
```

### 2. Gitå·¥ä½œæµ
```bash
# åŠŸèƒ½åˆ†æ”¯å¼€å‘
git checkout -b feature/user-authentication
git add .
git commit -m "feat: æ·»åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½"
git push origin feature/user-authentication

# åˆ›å»ºPull Request
# ä»£ç å®¡æŸ¥ â†’ åˆå¹¶åˆ°mainåˆ†æ”¯
```

### 3. è°ƒè¯•å·¥å…·
```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker-compose -f docker-compose.dev.yml logs -f backend-dev

# è¿›å…¥å®¹å™¨è°ƒè¯•
docker exec -it sajuna-blog-backend-dev sh
docker exec -it sajuna-blog-frontend-dev sh

# æ•°æ®åº“è°ƒè¯•
.\scripts\db-connect.bat
```

## ğŸ“Š æµ‹è¯•ç­–ç•¥

### 1. å•å…ƒæµ‹è¯•
```go
// backend/internal/handler/article_test.go
func TestCreateArticle(t *testing.T) {
    // æµ‹è¯•ç”¨ä¾‹
    req := CreateArticleRequest{
        Title: "æµ‹è¯•æ–‡ç« ",
        Content: "æµ‹è¯•å†…å®¹",
    }
    
    // æ‰§è¡Œæµ‹è¯•
    // éªŒè¯ç»“æœ
}
```

### 2. é›†æˆæµ‹è¯•
```bash
# æµ‹è¯•APIæ¥å£
curl -X POST http://localhost:8080/api/v1/articles \
  -H "Content-Type: application/json" \
  -d '{"title":"æµ‹è¯•æ–‡ç« ","content":"æµ‹è¯•å†…å®¹"}'
```

### 3. å‰ç«¯æµ‹è¯•
```typescript
// frontend/src/components/__tests__/ArticleCard.test.ts
import { mount } from '@vue/test-utils'
import ArticleCard from '../ArticleCard.vue'

describe('ArticleCard', () => {
  it('renders article title', () => {
    const wrapper = mount(ArticleCard, {
      props: { article: { title: 'æµ‹è¯•æ ‡é¢˜' } }
    })
    expect(wrapper.text()).toContain('æµ‹è¯•æ ‡é¢˜')
  })
})
```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. å‰ç«¯ä¼˜åŒ–
```typescript
// 1. æ‡’åŠ è½½
const ArticleList = defineAsyncComponent(() => import('./ArticleList.vue'))

// 2. è™šæ‹Ÿæ»šåŠ¨
import { VirtualList } from '@tanstack/vue-virtual'

// 3. å›¾ç‰‡ä¼˜åŒ–
<img 
  :src="article.cover" 
  loading="lazy"
  :alt="article.title"
/>
```

### 2. åç«¯ä¼˜åŒ–
```go
// 1. æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
func GetArticles(page, size int) ([]Article, error) {
    var articles []Article
    err := db.Offset((page-1)*size).
        Limit(size).
        Preload("Category").
        Preload("Tags").
        Find(&articles).Error
    return articles, err
}

// 2. ç¼“å­˜ç­–ç•¥
func GetArticle(id uint64) (*Article, error) {
    // å…ˆæŸ¥ç¼“å­˜
    if cached := cache.Get(fmt.Sprintf("article:%d", id)); cached != nil {
        return cached.(*Article), nil
    }
    
    // æŸ¥æ•°æ®åº“
    article, err := articleRepo.GetByID(id)
    if err != nil {
        return nil, err
    }
    
    // å†™å…¥ç¼“å­˜
    cache.Set(fmt.Sprintf("article:%d", id), article, 1*time.Hour)
    return article, nil
}
```

## ğŸ”’ å®‰å…¨å¼€å‘å»ºè®®

### 1. è¾“å…¥éªŒè¯
```go
// åç«¯éªŒè¯
func ValidateArticle(req *CreateArticleRequest) error {
    if len(req.Title) < 1 || len(req.Title) > 200 {
        return errors.New("æ ‡é¢˜é•¿åº¦å¿…é¡»åœ¨1-200å­—ç¬¦ä¹‹é—´")
    }
    
    // XSSé˜²æŠ¤
    req.Title = html.EscapeString(req.Title)
    req.Content = html.EscapeString(req.Content)
    
    return nil
}
```

### 2. æƒé™æ§åˆ¶
```go
// ä¸­é—´ä»¶éªŒè¯
func AuthRequired() gin.HandlerFunc {
    return func(c *gin.Context) {
        token := c.GetHeader("Authorization")
        if token == "" {
            c.JSON(401, gin.H{"error": "æœªæˆæƒ"})
            c.Abort()
            return
        }
        
        // éªŒè¯JWT
        claims, err := validateJWT(token)
        if err != nil {
            c.JSON(401, gin.H{"error": "ä»¤ç‰Œæ— æ•ˆ"})
            c.Abort()
            return
        }
        
        c.Set("user_id", claims.UserID)
        c.Next()
    }
}
```

## ğŸ“ ä»£ç è§„èŒƒå»ºè®®

### 1. æäº¤ä¿¡æ¯è§„èŒƒ
```bash
# æ ¼å¼: type(scope): description
feat(auth): æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
fix(api): ä¿®å¤æ–‡ç« åˆ›å»ºæ¥å£é”™è¯¯
docs(readme): æ›´æ–°å®‰è£…è¯´æ˜
style(ui): è°ƒæ•´æŒ‰é’®æ ·å¼
refactor(db): é‡æ„æ•°æ®åº“æ¨¡å‹
test(api): æ·»åŠ APIæµ‹è¯•ç”¨ä¾‹
```

### 2. ä»£ç æ³¨é‡Š
```go
// CreateArticle åˆ›å»ºæ–‡ç« 
// @Summary åˆ›å»ºæ–‡ç« 
// @Description åˆ›å»ºæ–°çš„åšå®¢æ–‡ç« 
// @Tags articles
// @Accept json
// @Produce json
// @Param article body CreateArticleRequest true "æ–‡ç« ä¿¡æ¯"
// @Success 201 {object} Article
// @Failure 400 {object} ErrorResponse
// @Router /api/v1/articles [post]
func CreateArticle(c *gin.Context) {
    // å®ç°ä»£ç 
}
```

## ğŸ¯ å¼€å‘é‡Œç¨‹ç¢‘

### ç¬¬1å‘¨: åŸºç¡€æ¡†æ¶
- [ ] ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- [ ] æ–‡ç« CRUD
- [ ] åŸºç¡€UIç•Œé¢

### ç¬¬2å‘¨: å†…å®¹ç®¡ç†
- [ ] åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
- [ ] Markdownç¼–è¾‘å™¨
- [ ] å›¾ç‰‡ä¸Šä¼ 

### ç¬¬3å‘¨: ç”¨æˆ·äº¤äº’
- [ ] è¯„è®ºç³»ç»Ÿ
- [ ] æœç´¢åŠŸèƒ½
- [ ] ç”¨æˆ·ä¸ªäººä¸­å¿ƒ

### ç¬¬4å‘¨: ä¼˜åŒ–éƒ¨ç½²
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ç”Ÿäº§ç¯å¢ƒé…ç½®
- [ ] ç›‘æ§å’Œæ—¥å¿—

## ğŸš¨ å¸¸è§é—®é¢˜è§£å†³

### 1. å®¹å™¨å¯åŠ¨å¤±è´¥
```bash
# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.dev.yml logs

# é‡å¯æœåŠ¡
docker-compose -f docker-compose.dev.yml restart

# æ¸…ç†é‡å»º
docker-compose -f docker-compose.dev.yml down -v
docker-compose -f docker-compose.dev.yml up -d --build
```

### 2. æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
docker exec sajuna-blog-mysql-dev mysql -u blog_user -pblog_password -e "SHOW DATABASES;"

# é‡ç½®æ•°æ®åº“
docker-compose -f docker-compose.dev.yml down -v
docker-compose -f docker-compose.dev.yml up -d
```

### 3. å‰ç«¯çƒ­é‡è½½å¤±æ•ˆ
```bash
# é‡å¯å‰ç«¯å®¹å™¨
docker-compose -f docker-compose.dev.yml restart frontend-dev

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -an | findstr :3000
```

---

**ğŸ‰ ç¥æ‚¨å¼€å‘é¡ºåˆ©ï¼è®°ä½ï¼šå°æ­¥å¿«è·‘ï¼ŒæŒç»­è¿­ä»£ï¼**
